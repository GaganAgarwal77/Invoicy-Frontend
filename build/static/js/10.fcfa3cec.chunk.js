(this.webpackJsonpinvoicy=this.webpackJsonpinvoicy||[]).push([[10],{106:function(e,t,a){"use strict";var s=a(5),c=a(0),r=a.n(c),n=a(59),l=a.n(n);t.a=function(e){return r.a.forwardRef((function(t,a){return r.a.createElement("div",Object(s.a)({},t,{ref:a,className:l()(t.className,e)}))}))}},107:function(e,t,a){"use strict";var s=a(5),c=a(9),r=a(59),n=a.n(r),l=a(0),i=a.n(l),o=a(61),d=["bsPrefix","className","variant","as"],j=i.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.className,l=e.variant,j=e.as,m=void 0===j?"img":j,b=Object(c.a)(e,d),h=Object(o.b)(a,"card-img");return i.a.createElement(m,Object(s.a)({ref:t,className:n()(l?h+"-"+l:h,r)},b))}));j.displayName="CardImg",j.defaultProps={variant:null},t.a=j},126:function(e,t,a){"use strict";var s=a(0),c=a.n(s).a.createContext(null);c.displayName="CardContext",t.a=c},127:function(e,t,a){"use strict";var s=a(5),c=a(9),r=a(59),n=a.n(r),l=a(0),i=a.n(l),o=a(61),d=["bsPrefix","className","as"],j=["xl","lg","md","sm","xs"],m=i.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.className,l=e.as,m=void 0===l?"div":l,b=Object(c.a)(e,d),h=Object(o.b)(a,"col"),x=[],u=[];return j.forEach((function(e){var t,a,s,c=b[e];if(delete b[e],"object"===typeof c&&null!=c){var r=c.span;t=void 0===r||r,a=c.offset,s=c.order}else t=c;var n="xs"!==e?"-"+e:"";t&&x.push(!0===t?""+h+n:""+h+n+"-"+t),null!=s&&u.push("order"+n+"-"+s),null!=a&&u.push("offset"+n+"-"+a)})),x.length||x.push(h),i.a.createElement(m,Object(s.a)({},b,{ref:t,className:n.a.apply(void 0,[r].concat(x,u))}))}));m.displayName="Col",t.a=m},155:function(e,t,a){"use strict";var s=a(5),c=a(9),r=a(59),n=a.n(r),l=a(0),i=a.n(l),o=a(61),d=a(67),j=a(106),m=a(126),b=a(107),h=["bsPrefix","className","bg","text","border","body","children","as"],x=Object(j.a)("h5"),u=Object(j.a)("h6"),O=Object(d.a)("card-body"),v=Object(d.a)("card-title",{Component:x}),p=Object(d.a)("card-subtitle",{Component:u}),f=Object(d.a)("card-link",{Component:"a"}),N=Object(d.a)("card-text",{Component:"p"}),g=Object(d.a)("card-header"),y=Object(d.a)("card-footer"),w=Object(d.a)("card-img-overlay"),k=i.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.className,d=e.bg,j=e.text,b=e.border,x=e.body,u=e.children,v=e.as,p=void 0===v?"div":v,f=Object(c.a)(e,h),N=Object(o.b)(a,"card"),g=Object(l.useMemo)((function(){return{cardHeaderBsPrefix:N+"-header"}}),[N]);return i.a.createElement(m.a.Provider,{value:g},i.a.createElement(p,Object(s.a)({ref:t},f,{className:n()(r,N,d&&"bg-"+d,j&&"text-"+j,b&&"border-"+b)}),x?i.a.createElement(O,null,u):u))}));k.displayName="Card",k.defaultProps={body:!1},k.Img=b.a,k.Title=v,k.Subtitle=p,k.Body=O,k.Link=f,k.Text=N,k.Header=g,k.Footer=y,k.ImgOverlay=w,t.a=k},161:function(e,t,a){"use strict";var s=a(5),c=a(9),r=a(59),n=a.n(r),l=a(0),i=a.n(l),o=a(61),d=["bsPrefix","className","noGutters","as"],j=["xl","lg","md","sm","xs"],m=i.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.className,l=e.noGutters,m=e.as,b=void 0===m?"div":m,h=Object(c.a)(e,d),x=Object(o.b)(a,"row"),u=x+"-cols",O=[];return j.forEach((function(e){var t,a=h[e];delete h[e];var s="xs"!==e?"-"+e:"";null!=(t=null!=a&&"object"===typeof a?a.cols:a)&&O.push(""+u+s+"-"+t)})),i.a.createElement(b,Object(s.a)({ref:t},h,{className:n.a.apply(void 0,[r,x,l&&"no-gutters"].concat(O))}))}));m.displayName="Row",m.defaultProps={noGutters:!1},t.a=m},162:function(e,t,a){"use strict";var s=a(5),c=a(9),r=a(59),n=a.n(r),l=a(0),i=a.n(l),o=a(61),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],j=i.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.className,l=e.striped,j=e.bordered,m=e.borderless,b=e.hover,h=e.size,x=e.variant,u=e.responsive,O=Object(c.a)(e,d),v=Object(o.b)(a,"table"),p=n()(r,v,x&&v+"-"+x,h&&v+"-"+h,l&&v+"-striped",j&&v+"-bordered",m&&v+"-borderless",b&&v+"-hover"),f=i.a.createElement("table",Object(s.a)({},O,{className:p,ref:t}));if(u){var N=v+"-responsive";return"string"===typeof u&&(N=N+"-"+u),i.a.createElement("div",{className:N},f)}return f}));t.a=j},351:function(e,t,a){"use strict";a.r(t);var s=a(23),c=a(2),r=a(85),n=a(11),l=a(12),i=a(13),o=a(14),d=a(71),j=a.n(d),m=a(0),b=a.n(m),h=a(161),x=a(127),u=a(155),O=a(162),v=a(26),p=a(103),f=a(73),N=a(3),g=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={wallet:"",companyId:window.localStorage.getItem("user_id"),invoices:[]},s}return Object(l.a)(a,[{key:"getBills",value:function(){var e=Object(r.a)(j.a.mark((function e(){var t,a,n,l,i=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.getAuth("/fetch-bills",window.localStorage.getItem("token"));case 3:return t=e.sent,a=t.data,console.log(a),e.next=8,f.a.getAuth("/users/id/".concat(this.state.companyId,"/"),window.localStorage.getItem("token"));case 8:n=e.sent,l=n.data,a.forEach(function(){var e=Object(r.a)(j.a.mark((function e(t){var a,r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.client!=i.state.companyId){e.next=9;break}return a=t.client,e.next=4,f.a.getAuth("/users/id/".concat(a,"/"),window.localStorage.getItem("token"));case 4:r=e.sent,n=r.data,console.log(n),t=Object(c.a)(Object(c.a)({},t),{},{clientName:n.company_name,clientEmail:n.email,companyName:l.company_name,companyEmail:l.email}),i.setState({invoices:[].concat(Object(s.a)(i.state.invoices),[t])});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getBills()}},{key:"payInvoice",value:function(){var e=Object(r.a)(j.a.mark((function e(t){var a,s,c,r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,s=parseInt(t.advancePercent),c=t.workCompleted,r=0===s||100===s||c?t.dueAmount:t.dueAmount*(s/100),window.alert("Invoice Paid"),e.next=7,f.a.patchAuth("/invoice/".concat(a,"/"),{dueAmount:r},window.localStorage.getItem("token"));case 7:n=e.sent,console.log(n),n?(this.dialog.showAlert("Success!"),window.location.reload()):this.dialog.showAlert("Something went wrong!");case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"viewDetails",value:function(e){this.props.history.push({pathname:"/view-invoice/",state:{invoice:e}})}},{key:"render",value:function(){var e=this,t=this.state.invoices,a=[],s=[],c=0,r=0;console.log(t),t.forEach((function(t){0==t.dueAmount?(a.push(Object(N.jsxs)("tr",{className:"unread",children:[Object(N.jsx)("td",{children:Object(N.jsx)("img",{className:"rounded-circle",style:{width:"40px"},src:p.a,alt:"activity-user"})}),Object(N.jsxs)("td",{children:[Object(N.jsx)("h6",{className:"mb-1",children:t.clientName}),Object(N.jsx)("p",{className:"m-0",children:t.clientEmail})]}),Object(N.jsx)("td",{children:Object(N.jsxs)("h6",{className:"text-muted",children:[Object(N.jsx)("i",{className:"fa fa-circle text-c-green f-10 m-r-15"}),t.invoiceDate]})}),Object(N.jsx)("td",{children:Object(N.jsxs)("h6",{className:"text-muted",children:[Object(N.jsx)("i",{className:"fa fa-circle text-c-red f-10 m-r-15"}),t.dueDate]})}),Object(N.jsx)("td",{children:Object(N.jsxs)("h6",{className:"text-muted",children:[t.totalAmount," INR"]})}),Object(N.jsx)("td",{children:Object(N.jsxs)("h6",{className:"text-muted",children:["Work Status: \xa0",t.workCompleted&&Object(N.jsx)("span",{className:"text-success",children:"Completed"}),!t.workCompleted&&Object(N.jsx)("span",{className:"text-danger",children:"Not Completed"})]})}),Object(N.jsx)("td",{children:Object(N.jsx)("button",{style:{border:0},onClick:function(){return e.viewDetails(t)},className:"label theme-bg text-white f-12",children:"View Details"})})]},t.id)),c+=t.totalAmount):(s.push(Object(N.jsxs)("tr",{className:"unread",children:[Object(N.jsx)("td",{children:Object(N.jsx)("img",{className:"rounded-circle",style:{width:"40px"},src:p.a,alt:"activity-user"})}),Object(N.jsxs)("td",{children:[Object(N.jsx)("h6",{className:"mb-1",children:t.clientName}),Object(N.jsx)("p",{className:"m-0",children:t.clientEmail})]}),Object(N.jsx)("td",{children:Object(N.jsxs)("h6",{className:"text-muted",children:[Object(N.jsx)("i",{className:"fa fa-circle text-c-green f-10 m-r-15"}),t.invoiceDate]})}),Object(N.jsx)("td",{children:Object(N.jsxs)("h6",{className:"text-muted",children:[Object(N.jsx)("i",{className:"fa fa-circle text-c-red f-10 m-r-15"}),t.dueDate]})}),Object(N.jsxs)("td",{children:[Object(N.jsxs)("h6",{className:"text-muted",children:[t.dueAmount," INR due"]}),Object(N.jsxs)("p",{className:"m-0",children:["Advance: ",t.advancePercent,"%"]})]}),Object(N.jsx)("td",{children:Object(N.jsxs)("h6",{className:"text-muted",children:["Work Status: \xa0",t.workCompleted&&Object(N.jsx)("span",{className:"text-success",children:"Completed"}),!t.workCompleted&&Object(N.jsx)("span",{className:"text-danger",children:"Not Completed"})]})}),Object(N.jsxs)("td",{children:[Object(N.jsx)("button",{style:{border:0},onClick:function(){return e.viewDetails(t)},className:"label theme-bg text-white f-12",children:"View Details"}),Object(N.jsx)("button",{style:{border:0},onClick:function(){return e.payInvoice(t)},className:"label theme-bg text-white f-12",children:"Pay"})]})]},t.id)),r+=t.dueAmount)}));var n=a.length+s.length?(a.length/(a.length+s.length)*100).toString():"0",l=a.length+s.length?(s.length/(a.length+s.length)*100).toString():"0",i=c+r?(c/(c+r)*100).toString():"0";return Object(N.jsx)(v.a,{children:Object(N.jsxs)(h.a,{children:[Object(N.jsx)(x.a,{md:6,xl:4,children:Object(N.jsx)(u.a,{children:Object(N.jsxs)(u.a.Body,{children:[Object(N.jsx)("h6",{className:"mb-4",children:"Total Settled Bills"}),Object(N.jsxs)("div",{className:"row d-flex align-items-center",children:[Object(N.jsx)("div",{className:"col-9",children:Object(N.jsxs)("h3",{className:"f-w-300 d-flex align-items-center m-b-0",children:[Object(N.jsx)("i",{className:"feather icon-arrow-up text-c-green f-30 m-r-5"}),a.length]})}),Object(N.jsx)("div",{className:"col-3 text-right",children:Object(N.jsxs)("p",{className:"m-b-0",children:[parseFloat(n).toFixed(2),"%"]})})]}),Object(N.jsx)("div",{className:"progress m-t-30",style:{height:"7px"},children:Object(N.jsx)("div",{className:"progress-bar progress-c-theme",role:"progressbar",style:{width:n.concat("%")},"aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100"})})]})})}),Object(N.jsx)(x.a,{md:6,xl:4,children:Object(N.jsx)(u.a,{children:Object(N.jsxs)(u.a.Body,{children:[Object(N.jsx)("h6",{className:"mb-4",children:"Total Pending Bills"}),Object(N.jsxs)("div",{className:"row d-flex align-items-center",children:[Object(N.jsx)("div",{className:"col-9",children:Object(N.jsxs)("h3",{className:"f-w-300 d-flex align-items-center m-b-0",children:[Object(N.jsx)("i",{className:"feather icon-arrow-down text-c-red f-30 m-r-5"}),s.length]})}),Object(N.jsx)("div",{className:"col-3 text-right",children:Object(N.jsxs)("p",{className:"m-b-0",children:[parseFloat(l).toFixed(2),"%"]})})]}),Object(N.jsx)("div",{className:"progress m-t-30",style:{height:"7px"},children:Object(N.jsx)("div",{className:"progress-bar progress-c-theme2",role:"progressbar",style:{width:l.concat("%")},"aria-valuenow":l,"aria-valuemin":"0","aria-valuemax":"100"})})]})})}),Object(N.jsx)(x.a,{xl:4,children:Object(N.jsx)(u.a,{children:Object(N.jsxs)(u.a.Body,{children:[Object(N.jsx)("h6",{className:"mb-4",children:"Total Money Sent"}),Object(N.jsxs)("div",{className:"row d-flex align-items-center",children:[Object(N.jsx)("div",{className:"col-9",children:Object(N.jsxs)("h3",{className:"f-w-300 d-flex align-items-center m-b-0",children:[Object(N.jsx)("i",{className:"feather icon-arrow-up text-c-green f-30 m-r-5"})," ",parseFloat(c).toFixed(2)," ETH"]})}),Object(N.jsx)("div",{className:"col-3 text-right",children:Object(N.jsxs)("p",{className:"m-b-0",children:[i.substring(0,5),"%"]})})]}),Object(N.jsx)("div",{className:"progress m-t-30",style:{height:"7px"},children:Object(N.jsx)("div",{className:"progress-bar progress-c-theme",role:"progressbar",style:{width:i.concat("%")},"aria-valuenow":i,"aria-valuemin":"0","aria-valuemax":"100"})})]})})}),Object(N.jsx)(x.a,{md:12,xl:12,children:Object(N.jsxs)(u.a,{className:"Recent-Users",children:[Object(N.jsx)(u.a.Header,{children:Object(N.jsx)(u.a.Title,{as:"h5",children:"Pending Invoices"})}),Object(N.jsx)(u.a.Body,{className:"px-0 py-2",children:Object(N.jsx)(O.a,{responsive:!0,hover:!0,children:Object(N.jsx)("tbody",{children:s})})})]})}),Object(N.jsx)(x.a,{md:12,xl:12,children:Object(N.jsxs)(u.a,{className:"Recent-Users",children:[Object(N.jsx)(u.a.Header,{children:Object(N.jsx)(u.a.Title,{as:"h5",children:"Settled Invoices"})}),Object(N.jsx)(u.a.Body,{className:"px-0 py-2",children:Object(N.jsx)(O.a,{responsive:!0,hover:!0,children:Object(N.jsx)("tbody",{children:a})})})]})}),Object(N.jsx)(x.a,{md:4,xl:4,children:Object(N.jsxs)(u.a,{className:"card-social",children:[Object(N.jsx)(u.a.Body,{className:"border-bottom",children:Object(N.jsxs)("div",{className:"row align-items-center justify-content-center",children:[Object(N.jsxs)("div",{className:"col-auto justify-content-center text-center",children:[Object(N.jsx)("i",{className:"fab fa-facebook text-primary f-36"}),Object(N.jsx)("p",{className:"m-0",children:"Facebook"})]}),Object(N.jsxs)("div",{className:"col text-right",children:[Object(N.jsxs)("h4",{children:[Object(N.jsx)("i",{class:"fab fa-ethereum"})," 10"]}),Object(N.jsx)("p",{className:"text-c-green mb-0",children:Object(N.jsx)("span",{className:"text-muted",children:"Total Amount to Pay"})})]})]})}),Object(N.jsx)(u.a.Body,{children:Object(N.jsxs)("div",{className:"row align-items-center justify-content-center card-active",children:[Object(N.jsxs)("div",{className:"col-6",children:[Object(N.jsxs)("h6",{className:"text-center m-b-10",children:[Object(N.jsx)("span",{className:"text-muted m-r-5",children:"Paid:"})," ",Object(N.jsx)("i",{class:"fab fa-ethereum"})," 5"]}),Object(N.jsx)("div",{className:"progress",children:Object(N.jsx)("div",{className:"progress-bar progress-c-theme",role:"progressbar",style:{width:"50%",height:"6px"},"aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"})})]}),Object(N.jsxs)("div",{className:"col-6",children:[Object(N.jsxs)("h6",{className:"text-center  m-b-10",children:[Object(N.jsx)("span",{className:"text-muted m-r-5",children:"Duration:"}),"28 days"]}),Object(N.jsx)("div",{className:"progress",children:Object(N.jsx)("div",{className:"progress-bar progress-c-theme2",role:"progressbar",style:{width:"10%",height:"6px"},"aria-valuenow":"45","aria-valuemin":"0","aria-valuemax":"100"})})]})]})})]})}),Object(N.jsx)(x.a,{md:4,xl:4,children:Object(N.jsxs)(u.a,{className:"card-social",children:[Object(N.jsx)(u.a.Body,{className:"border-bottom",children:Object(N.jsxs)("div",{className:"row align-items-center justify-content-center",children:[Object(N.jsxs)("div",{className:"col-auto justify-content-center text-center",children:[Object(N.jsx)("i",{className:"fab fa-amazon text-dark f-36"}),Object(N.jsx)("p",{className:"m-0",children:"Amazon"})]}),Object(N.jsxs)("div",{className:"col text-right",children:[Object(N.jsxs)("h4",{children:[Object(N.jsx)("i",{class:"fab fa-ethereum"})," 5"]}),Object(N.jsx)("p",{className:"text-c-green mb-0",children:Object(N.jsx)("span",{className:"text-muted",children:"Total Amount to Pay"})})]})]})}),Object(N.jsx)(u.a.Body,{children:Object(N.jsxs)("div",{className:"row align-items-center justify-content-center card-active",children:[Object(N.jsxs)("div",{className:"col-6",children:[Object(N.jsxs)("h6",{className:"text-center m-b-10",children:[Object(N.jsx)("span",{className:"text-muted m-r-5",children:"Paid:"})," ",Object(N.jsx)("i",{class:"fab fa-ethereum"})," 0"]}),Object(N.jsx)("div",{className:"progress",children:Object(N.jsx)("div",{className:"progress-bar progress-c-theme",role:"progressbar",style:{width:"1%",height:"6px"},"aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"})})]}),Object(N.jsxs)("div",{className:"col-6",children:[Object(N.jsxs)("h6",{className:"text-center  m-b-10",children:[Object(N.jsx)("span",{className:"text-muted m-r-5",children:"Duration:"}),"12 days"]}),Object(N.jsx)("div",{className:"progress",children:Object(N.jsx)("div",{className:"progress-bar progress-c-theme2",role:"progressbar",style:{width:"40%",height:"6px"},"aria-valuenow":"45","aria-valuemin":"0","aria-valuemax":"100"})})]})]})})]})}),Object(N.jsx)(x.a,{md:4,xl:4,children:Object(N.jsxs)(u.a,{className:"card-social",children:[Object(N.jsx)(u.a.Body,{className:"border-bottom",children:Object(N.jsxs)("div",{className:"row align-items-center justify-content-center",children:[Object(N.jsxs)("div",{className:"col-auto justify-content-center text-center",children:[Object(N.jsx)("i",{className:"fab fa-google text-warning f-36"}),Object(N.jsx)("p",{className:"m-0",children:"Google"})]}),Object(N.jsxs)("div",{className:"col text-right",children:[Object(N.jsxs)("h4",{children:[Object(N.jsx)("i",{class:"fab fa-ethereum"})," 3"]}),Object(N.jsx)("p",{className:"text-c-green mb-0",children:Object(N.jsx)("span",{className:"text-muted",children:"Total Amount to Pay"})})]})]})}),Object(N.jsx)(u.a.Body,{children:Object(N.jsxs)("div",{className:"row align-items-center justify-content-center card-active",children:[Object(N.jsxs)("div",{className:"col-6",children:[Object(N.jsxs)("h6",{className:"text-center m-b-10",children:[Object(N.jsx)("span",{className:"text-muted m-r-5",children:"Paid:"})," ",Object(N.jsx)("i",{class:"fab fa-ethereum"})," 1.2"]}),Object(N.jsx)("div",{className:"progress",children:Object(N.jsx)("div",{className:"progress-bar progress-c-theme",role:"progressbar",style:{width:"40%",height:"6px"},"aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"})})]}),Object(N.jsxs)("div",{className:"col-6",children:[Object(N.jsxs)("h6",{className:"text-center  m-b-10",children:[Object(N.jsx)("span",{className:"text-muted m-r-5",children:"Duration:"}),"13 days"]}),Object(N.jsx)("div",{className:"progress",children:Object(N.jsx)("div",{className:"progress-bar progress-c-theme2",role:"progressbar",style:{width:"75%",height:"6px"},"aria-valuenow":"45","aria-valuemin":"0","aria-valuemax":"100"})})]})]})})]})})]})})}}]),a}(b.a.Component);t.default=g},73:function(e,t,a){"use strict";var s=a(11),c=a(12),r=a(685),n="http://localhost:8000",l=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,[{key:"get",value:function(e){return r.a.get(n+e)}},{key:"getAuth",value:function(e,t){return r.a.get(n+e,{headers:{Authorization:"Token "+t}})}},{key:"post",value:function(e,t){return r.a.post(n+e,t)}},{key:"postAuth",value:function(e,t,a){return r.a.post(n+e,t,{headers:{Authorization:"Token "+a}})}},{key:"put",value:function(e,t){return r.a.put(n+e,t)}},{key:"patchAuth",value:function(e,t,a){return r.a.patch(n+e,t,{headers:{Authorization:"Token "+a}})}},{key:"delete",value:function(e){return r.a.delete(n+e)}}]),e}();t.a=new l}}]);
//# sourceMappingURL=10.fcfa3cec.chunk.js.map